# grid-sprite-editor

ChatGPT 等の AI が生成したスプライトシート画像（PNG）を修正・編集するための Windows デスクトップアプリ。

9分割（3×3）をはじめとした N×M グリッドのスプライトシートで、コマのはみ出しや位置ズレを直感的に修正できます。

## Features

### 表示・ナビゲーション

- **N×M グリッド表示** - 3×3 をはじめ任意の分割数に対応
- **中心ガイド線** - 各セルの中心に補助線を表示
- **ユーザー定義ルーラー線** - H/V ルーラーを自由配置（全コマ同期）
- **ズームイン/アウト** - Ctrl+ホイールで拡大・縮小
- **スクロール** - 右ドラッグ・中クリックドラッグ・Space+ドラッグでパン

### 編集ツール

- **矩形選択 & 移動** - 選択範囲をドラッグで移動・8方向リサイズ
- **ラッソ選択（自由形状）** - 自由形状で選択・移動（透明保持）
- **消しゴム** - はみ出し箇所を透明化（ブラシサイズ可変）
- **コマ移動（Alt+ドラッグ）** - セル内コンテンツをはみ出し/隣コマへ移動
- **コマ入れ替え** - セル同士をクリック2回で入れ替え
- **コマ拡縮** - セルを選択して中央基準で拡縮（複数選択・全選択対応）
- **Undo/Redo** - Ctrl+Z / Ctrl+Y で何度でもやり直し

### ファイル操作

- **PNG 読み込み** - ファイルメニューまたはドラッグ&ドロップで開く
- **上書き保存** - Ctrl+S で保存
- **リサイズ** - 3（またはN）で割り切れるサイズに変換（例: 1024→1536）
- **個別コマエクスポート** - 各セルを個別 PNG として書き出し

### アニメーション

- **サイドバーリアルタイムプレビュー** - 左で作業しながら右サイドバーで確認
- **FPS 設定** - 再生速度を調整
- **フレーム範囲指定** - 再生するコマ範囲（from〜to）を指定

## Requirements

- Windows 10/11
- Python 3.11+
- PyQt6 >= 6.6.0
- Pillow >= 10.0.0

## Installation

```bash
git clone https://github.com/kumasanboshi/grid-sprite-editor.git
cd grid-sprite-editor
pip install -r requirements.txt
```

## Usage

### 起動

```bash
python main.py
```

または `start.bat` をダブルクリック。

### 基本的な流れ

1. `ファイル > 開く`（またはPNGをウィンドウにドロップ）でスプライトシートを読み込む
2. サイドパネルでグリッドの列数・行数を設定
3. ツールを選んで編集（矩形選択・ラッソ・消しゴム等）
4. サイドバーのアニメーションプレビューで確認しながら作業
5. `ファイル > 保存`（Ctrl+S）で上書き保存

### Keyboard Shortcuts

| キー | 動作 |
|------|------|
| `M` | 矩形選択ツール |
| `L` | ラッソ選択ツール |
| `E` | 消しゴムツール |
| `R` | ルーラーツール（H/V 切り替えはサイドパネル） |
| `S` | コマ入れ替えツール |
| `Ctrl+Z` | Undo |
| `Ctrl+Y` | Redo |
| `Ctrl+S` | 保存 |
| `Ctrl++` / `Ctrl+-` | ズームイン/アウト |
| `Space+ドラッグ` | パン（画像移動） |
| `右ドラッグ` | パン |
| `Escape` | 選択解除 |

## License

MIT
